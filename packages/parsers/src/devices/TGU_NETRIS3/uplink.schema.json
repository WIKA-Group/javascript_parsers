{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "anyOf": [
    {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "object",
              "properties": {
                "configurationId": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 31
                },
                "messageType": {
                  "enum": [
                    1,
                    2
                  ]
                },
                "measurement": {
                  "type": "object",
                  "properties": {
                    "channels": {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "channelId": {
                                "const": 0
                              },
                              "channelName": {
                                "const": "temperature"
                              },
                              "value": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "channelId",
                              "channelName",
                              "value"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "channelId": {
                                "const": 1
                              },
                              "channelName": {
                                "const": "device temperature"
                              },
                              "value": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "channelId",
                              "channelName",
                              "value"
                            ]
                          }
                        ]
                      }
                    }
                  },
                  "required": [
                    "channels"
                  ]
                }
              },
              "required": [
                "configurationId",
                "messageType",
                "measurement"
              ]
            },
            "warnings": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "data"
          ]
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "object",
              "properties": {
                "configurationId": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 31
                },
                "messageType": {
                  "enum": [
                    3
                  ]
                },
                "processAlarms": {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "channelId": {
                            "const": 0
                          },
                          "channelName": {
                            "const": "temperature"
                          },
                          "event": {
                            "enum": [
                              0,
                              1
                            ]
                          },
                          "eventName": {
                            "enum": [
                              "triggered",
                              "disappeared"
                            ]
                          },
                          "alarmType": {
                            "enum": [
                              0,
                              1,
                              2,
                              3,
                              4,
                              5
                            ]
                          },
                          "alarmTypeName": {
                            "enum": [
                              "low threshold",
                              "high threshold",
                              "falling slope",
                              "rising slope",
                              "low threshold with delay",
                              "high threshold with delay"
                            ]
                          },
                          "value": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "channelId",
                          "channelName",
                          "event",
                          "eventName",
                          "alarmType",
                          "alarmTypeName",
                          "value"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "channelId": {
                            "const": 1
                          },
                          "channelName": {
                            "const": "device temperature"
                          },
                          "event": {
                            "enum": [
                              0,
                              1
                            ]
                          },
                          "eventName": {
                            "enum": [
                              "triggered",
                              "disappeared"
                            ]
                          },
                          "alarmType": {
                            "enum": [
                              0,
                              1,
                              2,
                              3,
                              4,
                              5
                            ]
                          },
                          "alarmTypeName": {
                            "enum": [
                              "low threshold",
                              "high threshold",
                              "falling slope",
                              "rising slope",
                              "low threshold with delay",
                              "high threshold with delay"
                            ]
                          },
                          "value": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "channelId",
                          "channelName",
                          "event",
                          "eventName",
                          "alarmType",
                          "alarmTypeName",
                          "value"
                        ]
                      }
                    ]
                  }
                }
              },
              "required": [
                "configurationId",
                "messageType",
                "processAlarms"
              ]
            },
            "warnings": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "data"
          ]
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "object",
              "properties": {
                "configurationId": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 31
                },
                "messageType": {
                  "enum": [
                    4
                  ]
                },
                "technicalAlarms": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "alarmType": {
                        "enum": [
                          0,
                          1,
                          2,
                          3,
                          4
                        ]
                      },
                      "alarmTypeName": {
                        "enum": [
                          "MV_STAT channel 0",
                          "MV_STAT channel 1",
                          "MV_STAT channel 2",
                          "MV_STAT channel 3",
                          "STAT_DEV"
                        ]
                      },
                      "causeOfFailure": {
                        "type": "integer",
                        "minimum": 0
                      },
                      "causeOfFailureName": {
                        "enum": [
                          "STAT_DEV_ERROR",
                          "STAT_DEV_WARNING",
                          "STAT_DEV_RESTARTED",
                          "MV_STAT_ERROR",
                          "MV_STAT_WARNING"
                        ]
                      }
                    },
                    "required": [
                      "alarmType",
                      "alarmTypeName",
                      "causeOfFailure",
                      "causeOfFailureName"
                    ]
                  }
                }
              },
              "required": [
                "configurationId",
                "messageType",
                "technicalAlarms"
              ]
            },
            "warnings": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "data"
          ]
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "object",
              "properties": {
                "configurationId": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 31
                },
                "messageType": {
                  "enum": [
                    5
                  ]
                },
                "deviceAlarm": {
                  "type": "object",
                  "properties": {
                    "alarmStatus": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "alarmStatusNames": {
                      "type": "array",
                      "items": {
                        "enum": [
                          "low battery",
                          "temperature alarm",
                          "duty cycle alarm",
                          "UART alarm"
                        ]
                      }
                    }
                  },
                  "required": [
                    "alarmStatus",
                    "alarmStatusNames"
                  ]
                }
              },
              "required": [
                "configurationId",
                "messageType",
                "deviceAlarm"
              ]
            },
            "warnings": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "data"
          ]
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "object",
              "properties": {
                "configurationId": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 31
                },
                "messageType": {
                  "enum": [
                    7
                  ]
                },
                "deviceInformation": {
                  "type": "object",
                  "properties": {
                    "productId": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "productIdName": {
                      "anyOf": [
                        {
                          "const": "NETRIS3"
                        },
                        {
                          "type": "number"
                        }
                      ]
                    },
                    "productSubId": {
                      "enum": [
                        0,
                        1
                      ]
                    },
                    "productSubIdName": {
                      "enum": [
                        "LoRaWAN",
                        "MIOTY"
                      ]
                    },
                    "sensorDeviceTypeId": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "channelConfigurations": {
                      "type": "array",
                      "items": [
                        {
                          "type": "object",
                          "properties": {
                            "measurand": {
                              "enum": [
                                1
                              ]
                            },
                            "measurandName": {
                              "enum": [
                                "Temperature"
                              ]
                            },
                            "measurementRangeStart": {
                              "type": "number"
                            },
                            "measurementRangeEnd": {
                              "type": "number"
                            },
                            "unit": {
                              "enum": [
                                1,
                                2,
                                3,
                                4
                              ]
                            },
                            "unitName": {
                              "enum": [
                                "°C",
                                "°F",
                                "K",
                                "°R"
                              ]
                            }
                          },
                          "required": [
                            "measurand",
                            "measurandName",
                            "measurementRangeStart",
                            "measurementRangeEnd",
                            "unit",
                            "unitName"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "measurand": {
                              "enum": [
                                1
                              ]
                            },
                            "measurandName": {
                              "enum": [
                                "Temperature"
                              ]
                            },
                            "measurementRangeStart": {
                              "type": "number"
                            },
                            "measurementRangeEnd": {
                              "type": "number"
                            },
                            "unit": {
                              "enum": [
                                1,
                                2,
                                3,
                                4
                              ]
                            },
                            "unitName": {
                              "enum": [
                                "°C",
                                "°F",
                                "K",
                                "°R"
                              ]
                            }
                          },
                          "required": [
                            "measurand",
                            "measurandName",
                            "measurementRangeStart",
                            "measurementRangeEnd",
                            "unit",
                            "unitName"
                          ]
                        }
                      ],
                      "minItems": 2
                    }
                  },
                  "required": [
                    "productId",
                    "productIdName",
                    "productSubId",
                    "productSubIdName",
                    "sensorDeviceTypeId",
                    "channelConfigurations"
                  ]
                }
              },
              "required": [
                "configurationId",
                "messageType",
                "deviceInformation"
              ]
            },
            "warnings": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "data"
          ]
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "object",
              "properties": {
                "configurationId": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 31
                },
                "messageType": {
                  "enum": [
                    8
                  ]
                },
                "deviceStatistic": {
                  "type": "object",
                  "properties": {
                    "numberOfMeasurements": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "numberOfTransmissions": {
                      "type": "integer",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "numberOfMeasurements",
                    "numberOfTransmissions"
                  ]
                }
              },
              "required": [
                "configurationId",
                "messageType",
                "deviceStatistic"
              ]
            },
            "warnings": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "data"
          ]
        },
        {
          "type": "object",
          "properties": {
            "data": {
              "type": "object",
              "properties": {
                "configurationId": {
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 31
                },
                "messageType": {
                  "enum": [
                    9
                  ]
                },
                "extendedDeviceInformation": {
                  "type": "object",
                  "properties": {
                    "optionalFieldsMask": {
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 15
                    },
                    "wikaSensorSerialNumber": {
                      "type": "string"
                    },
                    "sensorLUID": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "sensorHardwareVersion": {
                      "type": "string",
                      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
                    },
                    "deviceHardwareVersion": {
                      "type": "string",
                      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
                    },
                    "sensorFirmwareVersion": {
                      "type": "string",
                      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
                    },
                    "deviceSerialNumber": {
                      "type": "string"
                    },
                    "deviceProductCode": {
                      "type": "string"
                    },
                    "deviceFirmwareVersion": {
                      "type": "string",
                      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
                    }
                  },
                  "required": [
                    "optionalFieldsMask",
                    "deviceHardwareVersion",
                    "deviceSerialNumber",
                    "deviceProductCode",
                    "deviceFirmwareVersion"
                  ]
                }
              },
              "required": [
                "configurationId",
                "messageType",
                "extendedDeviceInformation"
              ]
            },
            "warnings": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          "required": [
            "data"
          ]
        }
      ]
    },
    {
      "type": "object",
      "properties": {
        "errors": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "errors"
      ]
    }
  ]
}