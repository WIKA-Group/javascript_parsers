[
  {
    "type": "uplink",
    "description": "GoodCase data message: Uplink example with 1 data message and no ongoing alarm",
    "input": {
      "bytes": [1, 31, 1, 24, 7],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "configurationId": 31,
        "messageType": 1,
        "measurement": {
          "channels": [
            {
              "channelId": 0,
              "channelName": "Electrical current1",
              "value": 9.8416
            }
          ]
        }
      }
    }
  },
  {
    "type": "hexUplink",
    "description": "GoodCase data message: Hex Uplink example with 1 data message and no ongoing alarm",
    "input": {
      "bytes": " 0x01 14 01 1807",
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "configurationId": 20,
        "messageType": 1,
        "measurement": {
          "channels": [
            {
              "channelId": 0,
              "channelName": "Electrical current1",
              "value": 9.8416
            }
          ]
        }
      }
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase data message: Uplink example with 1 data message and no ongoing alarm with too many bytes",
    "input": {
      "bytes": [1, 32, 1, 24, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": [
        "NETRIS2 (JS): Data message (0x01/0x02) requires at least 5 and at most 7 bytes, but received 15 bytes"
      ]
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase data message: Uplink example with 2 data messages and at least one ongoing alarm",
    "input": {
      "bytes": [2, 0, 3, 8, 211, 31, 144],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "configurationId": 0,
        "messageType": 2,
        "measurement": {
          "channels": [
            {
              "channelId": 0,
              "channelName": "Electrical current1",
              "value": 3.6144
            },
            {
              "channelId": 1,
              "channelName": "Electrical current2",
              "value": 12.928
            }
          ]
        }
      }
    }
  },
  {
    "type": "uplink",
    "description": "BadCase data message: Uplink example for 00 data message",
    "input": {
      "bytes": [0, 0, 0, 46, 151, 18, 83],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": ["NETRIS2 (JS): Message could not be decoded. No codec matched the input."]
    }
  },
  {
    "type": "uplink",
    "description": "BadCase data message: Uplink example for no data",
    "input": {
      "bytes": [1, 0, 0],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": ["NETRIS2 (JS): Data message (0x01/0x02) requires at least 5 and at most 7 bytes, but received 3 bytes"]
    }
  },
  {
    "type": "uplink",
    "description": "BadCase data message: Uplink example for not enough data",
    "input": {
      "bytes": [1, 0, 0, 46],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": ["NETRIS2 (JS): Data message (0x01/0x02) requires at least 5 and at most 7 bytes, but received 4 bytes"]
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase process alarm message: Uplink example for alarm message low threshold",
    "input": {
      "bytes": [3, 17, 0, 0, 13, 115],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "configurationId": 17,
        "messageType": 3,
        "processAlarms": [
          {
            "channelId": 0,
            "channelName": "Electrical current1",
            "alarmType": 0,
            "alarmTypeName": "low threshold",
            "eventName": "triggered",
            "event": 0,
            "value": 5.5088
          }
        ]
      }
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase process alarm message: Uplink example for alarm message rising slope",
    "input": {
      "bytes": [3, 15, 0, 139, 0, 217],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "messageType": 3,
        "configurationId": 15,
        "processAlarms": [
          {
            "channelId": 1,
            "channelName": "Electrical current2",
            "alarmType": 3,
            "alarmTypeName": "rising slope",
            "event": 1,
            "eventName": "disappeared",
            "value": 4.3472
          }
        ]
      }
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase process alarm message: Uplink example for alarm message triggered on channel 0 and 1 for high threshold with delay and high threshold",
    "input": {
      "bytes": [3, 1, 0, 5, 44, 168, 9, 38, 184],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "messageType": 3,
        "configurationId": 1,
        "processAlarms": [
          {
            "channelId": 0,
            "channelName": "Electrical current1",
            "alarmType": 5,
            "alarmTypeName": "high threshold with delay",
            "event": 0,
            "eventName": "triggered",
            "value": 18.2912
          },
          {
            "channelId": 1,
            "channelName": "Electrical current2",
            "alarmType": 1,
            "alarmTypeName": "high threshold",
            "event": 0,
            "eventName": "triggered",
            "value": 15.8592
          }
        ]
      }
    }
  },
  {
    "type": "uplink",
    "description": "BadCase process alarm message: Uplink example for alarm message with too few bytes (4)",
    "input": {
      "bytes": [3, 1, 0, 5],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": ["NETRIS2 (JS): Process alarm message (0x03) requires at least 6 bytes (and target byte count 3n), but received 4 bytes"]
    }
  },
  {
    "type": "uplink",
    "description": "BadCase process alarm message: Uplink example for alarm message with not full process alarm message (bytes % 3 == 0)",
    "input": {
      "bytes": [3, 1, 0, 5, 44, 168, 9, 38],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": ["NETRIS2 (JS): Process alarm message (0x03) requires at least 6 bytes (and target byte count 3n), but received 8 bytes"]
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase technical alarm message: Uplink example for short condition on channel 0 and open condition on channel 1",
    "input": {
      "bytes": [4, 0, 3, 2, 1],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "configurationId": 0,
        "messageType": 4,
        "technicalAlarms": [
          {
            "channelId": 0,
            "channelName": "Electrical current1",
            "event": 0,
            "eventName": "triggered",
            "causeOfFailure": 2,
            "causeOfFailureName": "short condition"
          },
          {
            "channelId": 1,
            "channelName": "Electrical current2",
            "event": 0,
            "eventName": "triggered",
            "causeOfFailure": 1,
            "causeOfFailureName": "open condition"
          }
        ]
      }
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase technical alarm message: Uplink example for alarm disappeared on channel 1",
    "input": {
      "bytes": [4, 6, 2, 128],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "configurationId": 6,
        "messageType": 4,
        "technicalAlarms": [
          {
            "channelId": 1,
            "channelName": "Electrical current2",
            "event": 1,
            "eventName": "disappeared",
            "causeOfFailure": 0,
            "causeOfFailureName": "no alarm"
          }
        ]
      }
    }
  },
  {
    "type": "uplink",
    "description": "BaseCase technical alarm message: Invalid causeOfFailure in technical alarm",
    "input": {
      "bytes": [4, 6, 2, 63],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": ["NETRIS2 (JS): Unknown causeOfFailure 63 in technical alarm message for channel 1"]
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase configuration status message: Uplink example for configuration status message",
    "input": {
      "bytes": [6, 1, 32],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "messageType": 6,
        "configurationId": 1,
        "configurationStatus": {
          "statusId": 32,
          "status": "configuration successful"
        }
      }
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase configuration status message: Uplink example for configuration status message",
    "input": {
      "bytes": [6, 23, 48],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "messageType": 6,
        "configurationId": 23,
        "configurationStatus": {
          "statusId": 48,
          "status": "configuration rejected"
        }
      }
    }
  },
  {
    "type": "uplink",
    "description": "BadCase configuration status message: Uplink example for configuration status message with unsupported status",
    "input": {
      "bytes": [6, 1, 33],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": ["NETRIS2 (JS): Unknown status 33 in configuration status message"]
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase radio unit identification message: Uplink example for radio unit identification message",
    "input": {
      "bytes": [7, 0, 14, 0, 1, 6, 0, 1, 16, 0, 0, 1, 49, 65, 49, 51, 55, 85, 57, 84, 48, 54, 75, 0],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "messageType": 7,
        "configurationId": 0,
        "radioUnitIdentification": {
          "productId": 14,
          "productIdName": "NETRIS2",
          "productSubId": 0,
          "productSubIdName": "standard",
          "radioUnitModemFirmwareVersion": "0.1.6",
          "radioUnitModemHardwareVersion": "0.0.1",
          "radioUnitFirmwareVersion": "1.0.0",
          "radioUnitHardwareVersion": "0.0.1",
          "serialNumber": "1A137U9T06K"
        }
      }
    }
  },
  {
    "type": "uplink",
    "description": "BadCase radio unit identification message: Uplink example for radio unit identification message with not enough bytes",
    "input": {
      "bytes": [7, 0, 14, 0, 1, 6, 0, 1, 16, 0, 0, 1, 49, 65, 49, 51, 55, 85, 57, 84],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": [
        "NETRIS2 (JS): Device identification message (0x07) requires 24 bytes, but received 20 bytes"
      ]
    }
  },
  {
    "type": "uplink",
    "description": "BadCase radio unit identification message: Uplink example for radio unit identification message with invalid product id",
    "input": {
      "bytes": [7, 0, 0, 0, 1, 6, 0, 1, 16, 0, 0, 1, 49, 65, 49, 51, 55, 85, 57, 84, 48, 54, 75, 0],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": [
        "NETRIS2 (JS): Invalid productId 0 in device identification message. Expected 14 (NETRIS2)."
      ]
    }
  },
  {
    "type": "uplink",
    "description": "BadCase radio unit identification message: Uplink example for radio unit identification message with invalid product sub id",
    "input": {
      "bytes": [7, 0, 14, 10, 1, 6, 0, 1, 16, 0, 0, 1, 49, 65, 49, 51, 55, 85, 57, 84, 48, 54, 75, 0],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": [
        "NETRIS2 (JS): Unknown productSubId 10 in device identification message. Only LoRaWAN (0) is supported."
      ]
    }
  },
  {
    "type": "uplink",
    "description": "GoodCase keep alive message: Uplink example for keep alive message",
    "input": {
      "bytes": [8, 12, 0, 0, 0, 19, 0, 0, 0, 32, 99, 26],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "data": {
        "messageType": 8,
        "configurationId": 12,
        "deviceStatistic": {
          "numberOfMeasurements": 19,
          "numberOfTransmissions": 32,
          "batteryResetSinceLastKeepAlive": false,
          "estimatedBatteryPercent": 99,
          "batteryCalculationError": false,
          "radioUnitTemperatureLevel_C": 26
        }
      }
    }
  },
  {
    "type": "uplink",
    "description": "BadCase keep alive message: Uplink example for keep alive message with not enough bytes",
    "input": {
      "bytes": [8, 12, 0, 0, 0, 19, 0, 0, 0, 32],
      "fPort": 1,
      "recvTime": "1992-12-22T17:00:00+01:00"
    },
    "output": {
      "errors": ["NETRIS2 (JS): Keep alive message (0x08) requires 12 bytes, but received 10 bytes"]
    }
  },
  {
    "type": "downlink",
    "description": "GoodCase downlink message: Reset to factory",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "resetToFactory"
      }
    },
    "output": {
      "bytes": [0, 1],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "GoodCase downlink message: Reset battery indicator",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "resetBatteryIndicator",
        "configurationId": 25
      }
    },
    "output": {
      "bytes": [25, 5],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "GoodCase downlink message: Setting simple main configuration",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 18,
        "mainConfiguration": {
          "measuringRateWhenNoAlarm": 3600,
          "publicationFactorWhenNoAlarm": 2,
          "measuringRateWhenAlarm": 600,
          "publicationFactorWhenAlarm": 12
        }
      }
    },
    "output": {
      "bytes": [
        18,
        2,
        0,
        0,
        14,
        16,
        0,
        2,
        0,
        0,
        2,
        88,
        0,
        12
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "GoodCase downlink message: Disable channel 1",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 11,
        "channel1": false
      }
    },
    "output": {
      "bytes": [
        11,
        17,
        2
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "Goodcase downlink message: Disable channel 0 and set deadband of channel 1 to 0.08mA (0.5%)",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 6,
        "channel0": false,
        "channel1": {
          "alarms": {
            "deadBand": 0.08
          }
        }
      }
    },
    "output": {
      "bytes": [
        6,
        17,
        1,
        32,
        0,
        1,
        0,
        50,
        0
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "GoodCase downlink message: set process alarms for channel 0 (low threshold at 7.7728mA, 23.58%)  and deadband of 0.08mA (0.5%)",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 24,
        "channel0": {
          "alarms": {
            "deadBand": 0.08,
            "lowThreshold": 7.7728
          }
        }
      }
    },
    "output": {
      "bytes": [
        24,
        32,
        0,
        0,
        0,
        50,
        128,
        18,
        250
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "GoodCase downlink message: set process alarms for channel 0 and channel 1",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 15,
        "channel1": {
          "alarms": {
            "deadBand": 0.08,
            "lowThresholdWithDelay": {
              "value": 10.4,
              "delay": 1800
            }
          }
        },
        "channel0": {
          "alarms": {
            "deadBand": 0,
            "highThreshold": 19.2,
            "fallingSlope": 1.152,
            "risingSlope": 0.16
          }
        }
      }
    },
    "output": {
      "bytes": [
        15,
        32,
        0,
        0,
        0,
        0,
        112,
        46,
        224,
        2,
        208,
        0,
        100,
        32,
        0,
        1,
        0,
        50,
        8,
        25,
        100,
        7,
        8
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "GoodCase downlink message: set channel offset for channel 0 to -0.0368mA (-0.23%) and channel 1 to 0mA (0%)",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 4,
        "channel0": {
          "measureOffset": -0.0368
        },
        "channel1": {
          "measureOffset": 0
        }
      }
    },
    "output": {
      "bytes": [
        4,
        48,
        3,
        255,
        233,
        0,
        0
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "GoodCase downlink message: set channel 0 start up to 4 seconds and channel 1 to 100ms",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 1,
        "channel0": {
          "startUpTime": 4
        },
        "channel1": {
          "startUpTime": 0.1
        }
      }
    },
    "output": {
      "bytes": [
        1,
        96,
        3,
        0,
        40,
        0,
        1
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlinkMultiple",
    "description": "GoodCase downlink multiple message: via multiple downlinks, set process alarms for channel 0 and channel 1",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 15,
        "byteLimit": 14,
        "channel1": {
          "alarms": {
            "deadBand": 0.08,
            "lowThresholdWithDelay": {
              "value": 10.4,
              "delay": 1800
            }
          }
        },
        "channel0": {
          "alarms": {
            "deadBand": 0,
            "highThreshold": 19.2,
            "fallingSlope": 1.152,
            "risingSlope": 0.16
          }
        }
      }
    },
    "output": {
      "frames": [
        [
          15,
          32,
          0,
          0,
          0,
          0,
          112,
          46,
          224,
          2,
          208,
          0,
          100
        ],
        [
          16,
          32,
          0,
          1,
          0,
          50,
          8,
          25,
          100,
          7,
          8
        ]
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlinkMultiple",
    "description": "GoodCase downlink multiple message: via multiple downlinks, set process alarms for channel 0 and channel 1 and main configuration",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 14,
        "byteLimit": 14,
        "mainConfiguration": {
          "measuringRateWhenNoAlarm": 3600,
          "publicationFactorWhenNoAlarm": 2,
          "measuringRateWhenAlarm": 600,
          "publicationFactorWhenAlarm": 12
        },
        "channel1": {
          "alarms": {
            "deadBand": 0.08,
            "lowThresholdWithDelay": {
              "value": 10.4,
              "delay": 1800
            }
          }
        },
        "channel0": {
          "alarms": {
            "deadBand": 0,
            "highThreshold": 19.2,
            "fallingSlope": 1.152,
            "risingSlope": 0.16
          }
        }
      }
    },
    "output": {
      "frames": [
        [
          14,
          2,
          0,
          0,
          14,
          16,
          0,
          2,
          0,
          0,
          2,
          88,
          0,
          12
        ],
        [
          15,
          32,
          0,
          0,
          0,
          0,
          112,
          46,
          224,
          2,
          208,
          0,
          100
        ],
        [
          16,
          32,
          0,
          1,
          0,
          50,
          8,
          25,
          100,
          7,
          8
        ]
      ],
      "fPort": 1
    }
  },
  {
    "type": "downlink",
    "description": "Badcase downlink message: byte limit too small to fit full configuration data",
    "input": {
      "codec": "NETRIS2TULIP2",
      "input": {
        "deviceAction": "configuration",
        "configurationId": 14,
        "byteLimit": 14,
        "mainConfiguration": {
          "measuringRateWhenNoAlarm": 3600,
          "publicationFactorWhenNoAlarm": 2,
          "measuringRateWhenAlarm": 600,
          "publicationFactorWhenAlarm": 12
        },
        "channel1": {
          "alarms": {
            "deadBand": 0.08,
            "lowThresholdWithDelay": {
              "value": 10.4,
              "delay": 1800
            }
          }
        },
        "channel0": {
          "alarms": {
            "deadBand": 0,
            "highThreshold": 19.2,
            "fallingSlope": 1.152,
            "risingSlope": 0.16
          }
        }
      }
    },
    "output": {
      "errors": [
        "NETRIS2 (JS): Downlink frame exceeds byte limit of 14 bytes (got 36 bytes)."
      ]
    }
  }
]
